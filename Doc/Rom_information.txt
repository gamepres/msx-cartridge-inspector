ＭＳＸ・ＲＯＭカートリッジ用メタデータについて
日下 義政
（2020/11/22、2022/9/8改訂）

１．メタデータについて

(1)ＲＯＭカートリッジ種別
　以下の５種類に分けられる。
・通常ＲＯＭ
・メガＲＯＭ（アスキータイプ）
・メガＲＯＭ（コナミSCCなしタイプ）
・メガＲＯＭ（コナミSCCありタイプ）
・メガＲＯＭ（その他）。

※専用チップとして作られたメガＲＯＭコントローラは種類が多数あるが、論理的な動作はアスキータイプ、コナミSCCなしタイプ、コナミSCCありタイプの３種類しかない。ソフトウェア的には、メガＲＯＭ切り替えのためのバンクレジスタアドレスと切り替わるアドレス範囲が違うだけである。
※「メガＲＯＭ（その他）」に該当するのは「クロスブレイム」「スーパーロードランナー」「は～りぃふぉっくす雪の魔王編」の３本のみである。これらは汎用ロジックＩＣで構成された、独自のバンク切り替え回路を持っている。回路の関係から「スーパーロードランナー」はMSXturboRで動作しない。

(2)バンク容量（メガＲＯＭの場合のみ）
8KB／16KB
これはメガＲＯＭカートリッジ内部の回路で決定されるもので、カートリッジ毎に固定である。コナミは8KBのみで、アスキータイプのみ8K/16Kの2種類がある。

(2)ＲＯＭ容量／割り当てバンク番号
少ないものでは8KB（「ギャラクシアン」）、最大1024KB（「提督の決断」など）まで存在する。
通常ＲＯＭは最大４８ＫＢ。６４ＫＢ以上はメガＲＯＭになる。ただ「メガ」の表記は100万以上となる（約128ＫＢ以上）ので、６４ＫＢの容量のＲＯＭはメガＲＯＭコントローラをカートリッジ内部に持っている場合でも、メガＲＯＭとは呼ばない。
※「画楽多」は６４ＫＢのため、メガＲＯＭ表記がない。

バンクの割り当ては基本的にバンク番号0x00から連続しているが、内部のＲＯＭが複数ある場合に不連続となっている場合がある。
※「Ｒ－ＴＹＰＥ」は３Ｍｂｉｔだが、内部のＲＯＭが「２Ｍ＋空き１Ｍ＋１Ｍ」という構成になっており、４Ｍｂｉｔ分を取り出す必要がある。
※1990年の半導体供給不足があった際、同じタイトルでも初期出荷と再出荷でＲＯＭ構成が変わり、基板レイアウトが異なる実例が多々ある。ただし、基板レイアウトが変わることによってソフト側に変更があった例は、今のところ確認されていない。

(3)ＳＲＡＭ容量／割り当てバンク番号
セーブ用のＳＲＡＭを持つゲームカートリッジは多い。元祖は「ハイドライドⅡ」で、末期の「蒼き狼と白き雌鹿・元朝秘史」まで存在する。ＳＲＡＭ容量は最大で32KBまで確認されている。バンク番号は0x00～0xFFのどこかとなり、ＲＯＭと連続しているとは限らない。調べた限りでは、2KB/8KB/32KBの3通りしか見つかっていない。

(4)開始アドレス／終了アドレス（通常ＲＯＭのみ）
いずれも、データが格納されている先頭アドレスと、終了アドレスを記載する。
ＭＳＸではソフトウェアの実行が開始されるのは、0x4000または0x8000のいずれかと規定されている。ＭＳＸシステムの起動時に、ここにヘッダ「AB」が書かれている場合、その次に書かれた実行アドレスに飛ぶ。ただし0x8000から起動する場合でも、0x4000～0x7FFF（ページ１）にデータが存在する実例がある（「イーグルファイター」）。0x0000～0x3FFF（ページ０）にデータがある可能性は低いが、48KBのＲＯＭの場合は使用される（「フライト・デッキ」が該当する）。
ページ３にもデータが置かれているソフトが実在する。（「ブレイクイン」が該当する模様。ただし正確にはツールが完成していないため未確認。）

※「MSX-View」「かんたん手帳リフィルくん」の付属ＲＯＭのように、データが格納されているだけで内部のソフトウェアが実行されないカートリッジも存在する（この２本はいずれもフォントデータが格納されている）。これらのソフトウェア本体はフロッピーディスクで供給される。

(5)その他
特殊なＲＯＭカートリッジについて追記する。
「クロスブレイム」「スーパーロードランナー」「は～りぃふぉっくす雪の魔王編」は、メガＲＯＭコピーツール「ＲＯＭハンターmkⅡ」だと個別にパッチを当てて動作させる前提となっている。理由は不明だが、「ザナドゥ」にもパッチが存在する。
基本的には、バンクレジスタのアドレスと切り替わるアドレス範囲を記載する。

※ソフトウェア部分とは別に、音声出力ＩＣを持つＲＯＭカートリッジ（「燃えろ！熱闘野球’８８」「プレイボール」）や、独自のD/Aコンバータを持つＲＯＭカートリッジ（「新世サイザー」「牌の魔術師」）がある。これらは規格化されていないものなので、個別に「その他」に記録する。「ザナドゥ」は電池切れを検出する回路を持つらしい（タイトル画面の剣が黄色だと電池切れを示す旨がマニュアルに書かれている）が、未確認。
※「スナッチャー」「ＳＤスナッチャー」のカートリッジはＲＯＭを持たず、バッファ用のＤＲＡＭしか持っていない。「ＰＡＣ（パナアミューズメントカートリッジ）」も、セーブ用のＳＲＡＭのみを持つ。
※MSX1のソフトはMSX2で動作しない物が多くある。これは、スタックポインタがMSXの拡張スロットレジスタ（0xFFFF）を破壊していることが大抵の原因である。MSX1だと拡張スロットレジスタが破壊されても動く構成の本体が多いが、MSX2では拡張スロットレジスタの破壊は即暴走に繫がるためである。
※スタックポインタ以外の問題で、MSX2では動作しないソフトに「パズルパニック」がある。
※MSX2+以降で動作しないソフトに「YAKSA」（メガROM版）がある。
※MSXturboRで動作しないソフトに「HACKER」「スーパーロードランナー」がある。


２．資料類

クロスブレイムに関する調査結果。
http://www.ucatv.ne.jp/~kmizuo/junk.html

スーパーロードランナーに関する記録。turboRで動作しない旨についても調査されている。
http://www7b.biglobe.ne.jp/~leftyserve/delusion/del_sulr.htm

MSX用各種ゲーム・ハード等の基板写真。ただし細部は見えない物も多い。
http://www7b.biglobe.ne.jp/~leftyserve/pcb.htm